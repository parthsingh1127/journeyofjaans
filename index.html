<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>till eternity and beyond‚ù§Ô∏è</title>
  <style>
    :root {
      --accent: #ff4d6d;
      --bg1: #ff9a9e;
      --bg2: #fad0c4;
    }
    * { box-sizing:border-box; }
    html,body { height:100%; margin:0; font-family:"Poppins", sans-serif; }

    body {
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      color:#fff;
    }

    /* Background slideshow */
    .bg-slideshow {
      position:fixed; inset:0; z-index:-2; overflow:hidden;
    }
    .bg-slide {
      position:absolute; inset:0;
      background-size:cover; background-position:center;
      opacity:0;
      transition:opacity 1s ease, filter 1s ease;
      filter: grayscale(40%) brightness(60%);
      transform: scale(1.03);
    }
    .bg-slide.active { opacity:1; filter: grayscale(20%) brightness(55%); }
    .bg-overlay {
      position:fixed; inset:0; z-index:-1;
      background: rgba(0,0,0,0.25);
    }

    /* Overlay popup */
    .overlay {
      position:fixed; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: rgba(0,0,0,0.6);
      z-index:30;
    }
    .popup {
      background:#fff; padding:28px; border-radius:16px;
      max-width:420px; width:92%; text-align:center;
      color:#444;
    }
    .popup h2 { margin:0 0 8px; color:var(--accent); }
    .heart-btn {
      font-size:46px; border:0; background:none; cursor:pointer;
      animation: beat 1s infinite; color:var(--accent);
    }
    @keyframes beat { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
    .vanish { animation: vanishAnim 600ms forwards ease; }
    @keyframes vanishAnim {
      from{transform:scale(1);opacity:1} to{transform:scale(2);opacity:0}
    }
    .overlay.fade-out { animation: overlayFade 620ms forwards ease; }
    @keyframes overlayFade { from{opacity:1} to{opacity:0;visibility:hidden} }

    /* Main stage */
    .stage {
      max-width:960px; text-align:center; opacity:0;
      transform:translateY(10px);
      transition: opacity 420ms ease, transform 420ms ease;
    }
    .stage.active { opacity:1; transform:none; }

    .card {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(8px);
      padding:18px; border-radius:14px;
      box-shadow:0 10px 30px rgba(0,0,0,0.18);
    }
    .title { font-size:20px; margin-bottom:8px; }

    .timer { display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
    .time-box {
      background: rgba(255,255,255,0.08);
      padding:14px 16px; border-radius:12px;
      min-width:90px; text-align:center;
    }
    .time-val { font-size:20px; font-weight:700; }
    .time-label { font-size:12px; color:#ffe8ee; }

    /* Button to message page */
    .message-btn {
      margin-top:16px;
      padding:12px 20px;
      background: var(--accent);
      border:none; border-radius:999px;
      color:#fff; font-weight:600;
      cursor:pointer;
      box-shadow:0 4px 10px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="bg-slideshow" id="bgSlideshow"></div>
  <div class="bg-overlay"></div>

  <!-- popup -->
  <div class="overlay" id="overlay">
    <div class="popup">
      <h2>Hi baby üíï</h2>
      <p>I hope you liked your surprise.<br>I love you so so much</p>
      <button class="heart-btn" id="popupHeart">‚ù§Ô∏è</button>
    </div>
  </div>

  <!-- main stage -->
  <div class="stage" id="stage">
    <div class="card">
      <div class="title">Our Journey Together</div>
      <div class="timer" id="timerBoxes"></div>
      <button class="message-btn" onclick="window.location.href='message.html'">Read My Message ‚ù§Ô∏è</button>
    </div>
  </div>

<script>
(function(){
  const images = ["us.jpg","us3.jpg","us5.jpg","us6.jpg","us7.jpg","us8.jpg","us9.jpg","us10.jpg"];
  const startDate = new Date(2024, 0, 6, 0, 0, 0);

  const overlay = document.getElementById('overlay');
  const popupHeart = document.getElementById('popupHeart');
  const stage = document.getElementById('stage');
  const timerBoxes = document.getElementById('timerBoxes');
  const bgSlideshow = document.getElementById('bgSlideshow');

  let bgSlides=[], bgIndex=0, bgInterval, timerInterval, lastTap=0, activated=false;

  // build slides
  images.forEach((src,i)=>{
    const d=document.createElement('div');
    d.className='bg-slide';
    d.style.backgroundImage=`url("${src}")`;
    if(i===0) d.classList.add('active');
    bgSlideshow.appendChild(d); bgSlides.push(d);
  });

  // slideshow
  function startBgSlideshow(){
    if(bgSlides.length<=1) return;
    bgIndex=0;
    bgInterval=setInterval(()=>{
      const prev=bgIndex;
      bgIndex=(bgIndex+1)%bgSlides.length;
      bgSlides[prev].classList.remove('active');
      bgSlides[bgIndex].classList.add('active');
    }, 4500);
  }

  // timer
  function getDateDiff(s,e){
    let years=e.getFullYear()-s.getFullYear();
    let months=e.getMonth()-s.getMonth();
    let days=e.getDate()-s.getDate();
    let hours=e.getHours()-s.getHours();
    let minutes=e.getMinutes()-s.getMinutes();
    let seconds=e.getSeconds()-s.getSeconds();
    if(seconds<0){seconds+=60;minutes--;}
    if(minutes<0){minutes+=60;hours--;}
    if(hours<0){hours+=24;days--;}
    if(days<0){const pm=new Date(e.getFullYear(),e.getMonth(),0).getDate();days+=pm;months--;}
    if(months<0){months+=12;years--;}
    return {years,months,days,hours,minutes,seconds};
  }
  function renderTimer(diff){
    timerBoxes.innerHTML=`
      <div class="time-box"><div class="time-val">${diff.years}</div><div class="time-label">Years</div></div>
      <div class="time-box"><div class="time-val">${diff.months}</div><div class="time-label">Months</div></div>
      <div class="time-box"><div class="time-val">${diff.days}</div><div class="time-label">Days</div></div>
      <div class="time-box"><div class="time-val">${String(diff.hours).padStart(2,'0')}</div><div class="time-label">Hours</div></div>
      <div class="time-box"><div class="time-val">${String(diff.minutes).padStart(2,'0')}</div><div class="time-label">Minutes</div></div>
      <div class="time-box"><div class="time-val">${String(diff.seconds).padStart(2,'0')}</div><div class="time-label">Seconds</div></div>`;
  }
  function startTimer(){
    function tick(){
      const now=new Date();
      const diff=getDateDiff(startDate,now);
      renderTimer(diff);
    }
    tick(); timerInterval=setInterval(tick,1000);
  }

  function activate(){
    if(activated) return; activated=true;
    popupHeart.classList.add('vanish');
    overlay.classList.add('fade-out');
    setTimeout(()=>{
      overlay.style.display='none';
      stage.classList.add('active');
      startBgSlideshow();
      startTimer();
    },650);
  }

  popupHeart.addEventListener('dblclick',e=>{e.preventDefault();activate();});
  popupHeart.addEventListener('touchend',e=>{
    const now=Date.now();
    if(now-lastTap<400){e.preventDefault();activate();lastTap=0;} else lastTap=now;
  },{passive:false});
})();
</script>
</body>
</html>
